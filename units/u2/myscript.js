var myQuestions = [
  {
    question: "1. Convert \\({1,130}~{mm}\\) to \\({m}\\).",
    answers: {
      a: '\\({1.13}~{m}\\)<br>',
      b: '\\({1,130,000}~{m}\\)<br>',
      c: '\\({11.3}~{m}\\)<br>',
      d: '\\({113}~{m}\\)'
    },
    correctAnswer: 'a'
  },
  {
    question: "2. Convert \\({6}{~}{590}~{m}\\) to \\({km}\\).",
    answers: {
      a: '\\({659}{~}{000}~{km}\\)<br>',
      b: '\\({6.59}~{km}\\)<br>',
      c: '\\({659}~{km}\\)<br>',
      d: '\\({65.9}~{km}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "3. Convert \\({2.1}~{m}\\) to \\({cm}\\).",
    answers: {
      a: '\\({0.021}~{cm}\\)<br>',
      b: '\\({21}~{cm}\\)<br>',
      c: '\\({210}~{cm}\\)<br>',
      d: '\\({0.21}~{cm}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "4. Change \\({2}~{000}~{g}\\) to \\({kg}\\).",
    answers: {
      a: '\\({2}~{kg}\\)<br>',
      b: '\\({20}~{kg}\\)<br>',
      c: '\\({0.2}~{kg}\\)<br>',
      d: '\\({200}~{kg}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "5. Change \\({82900}~{mg}\\) to \\({kg}\\).",
    answers: {
      a: '\\({829000}~{kg}\\)<br>',
      b: '\\({0.0829}~{kg}\\)<br>',
      c: '\\({829}~{kg}\\)<br>',
      d: '\\({82.9}~{kg}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "6. Change \\({4.3}~{kg}\\) to \\({g}\\).",
    answers: {
      a: '\\({4,300}~{g}\\)<br>',
      b: '\\({0.43}~{g}\\)<br>',
      c: '\\({0.043}~{g}\\)<br>',
      d: '\\({0.0043}~{g}\\)'
    },
    correctAnswer: 'a'
  },


  {
    question: "7. Change \\({35}~{m^2}\\) to \\({cm^2}\\).",
    answers: {
      a: '\\({350}~{000}~{cm^2}\\)<br>',
      b: '\\({3}~{000}~{cm^2}\\)<br>',
      c: '\\({35}~{000}~{cm^2}\\)<br>',
      d: '\\({350}~{cm^2}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "8. Change \\({900}~{mm^2}\\) to \\({cm^2}\\).",
    answers: {
      a: '\\({9}~{000}~{cm^2}\\)<br>',
      b: '\\({0.9}~{cm^2}\\)<br>',
      c: '\\({9}~{cm^2}\\)<br>',
      d: '\\({0.09}~{cm^2}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "9. Convert \\({5.3}~{cm^2}\\) to \\({m^2}\\).",
    answers: {
      a: '\\({53}~{000}~{m^2}\\)<br>',
      b: '\\({0.53}~{m^2}\\)<br>',
      c: '\\({0.053}~{m^2}\\)<br>',
      d: '\\({0.00053}~{m^2}\\)'
    },
    correctAnswer: 'd'
  },

  {
    question: "10. Change \\({16.5}~{m^3}\\) to \\({L}\\).",
    answers: {
      a: '\\({165}~{000}~{L}\\)<br>',
      b: '\\({16,500}~{L}\\)<br>',
      c: '\\({1650}~{L}\\)<br>',
      d: '\\({165}~{L}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "11. Change \\({6.79}~{L}\\) to \\({cm^3}\\).",
    answers: {
      a: '\\({6}~{790}~{cm^3}\\)<br>',
      b: '\\({6}~{790}~{000}~{cm^3}\\)<br>',
      c: '\\({67}~{900}~{cm^3}\\)<br>',
      d: '\\({679}~{000}~{cm^3}\\)'
    },
    correctAnswer: 'a'
  },
  
  {
    question: "12. How many cubic meters are there in \\({5,000,000}~{mL}\\)?",
    answers: {
      a: '\\({0.5}~{m^3}\\)<br>',
      b: '\\({5}~{m^3}\\)<br>',
      c: '\\({50}~{m^3}\\)<br>',
      d: '\\({0.05}~{m^3}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "13. Convert \\({6.79}~{L}\\) to \\({mL}\\).",
    answers: {
      a: '\\({6}~{790}~{mL}\\)<br>',
      b: '\\({6}~{790}~{000}~{mL}\\)<br>',
      c: '\\({67}~{900}~{mL}\\)<br>',
      d: '\\({679}~{000}~{mL}\\)'
    },
    correctAnswer: 'a'
  },
  {
    question: "14. Change \\({5}~{ft}\\) \\({7}~{in}\\) to \\({in}\\).",
    answers: {
      a: '\\({7.6}~{in}\\)<br>',
      b: '\\({6.7}~{in}\\)<br>',
      c: '\\({76}~{in}\\)<br>',
      d: '\\({67}~{in}\\)'
    },
    correctAnswer: 'd'
  },

  {
    question: "15. Change \\({5}~{yd}\\) \\({18}~{in}\\) to \\({ft}\\).",
    answers: {
      a: '\\({31}~{ft}\\)<br>',
      b: '\\({16.5}~{ft}\\)<br>',
      c: '\\({78}~{ft}\\)<br>',
      d: '\\({15.5}~{ft}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "16. Change \\({122.4}~{in}\\) to \\({yd}\\).",
    answers: {
      a: '\\({3.4}~{yd}\\)<br>',
      b: '\\({4.3}~{yd}\\)<br>',
      c: '\\({5.3}~{yd}\\)<br>',
      d: '\\({3.5}~{yd}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "17. Convert \\({3,456}~{lb}\\) to \\({T}\\).",
    answers: {
      a: '\\({3.456}~{T}\\)<br>',
      b: '\\({1.728}~{T}\\)<br>',
      c: '\\({6.912}~{T}\\)<br>',
      d: '\\({5.184}~{T}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "18. Convert \\({2.54}~{T}\\) to \\({lb}\\).",
    answers: {
      a: '\\({254}~{lb}\\)<br>',
      b: '\\({508}~{lb}\\)<br>',
      c: '\\({5080}~{lb}\\)<br>',
      d: '\\({2540}~{lb}\\)'
    },
    correctAnswer: 'c'
  },
  
  {
    question: "19. Convert \\({3.50}~{ft^2}\\) to \\({in^2}\\).",
    answers: {
      a: '\\({504}~{in^2}\\)<br>',
      b: '\\({405}~{in^2}\\)<br>',
      c: '\\({84.0}~{in^2}\\)<br>',
      d: '\\({42.0}~{in^2}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "20. Convert \\({360}~{in^2}\\) to \\({ft^2}\\).",
    answers: {
      a: '\\({5.2}~{ft^2}\\)<br>',
      b: '\\({2.5}~{ft^2}\\)<br>',
      c: '\\({5.4}~{ft^2}\\)<br>',
      d: '\\({4.2}~{ft^2}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "21. Convert \\({15}~{bbl}\\) to \\({gal}\\).",
    answers: {
      a: '\\({0.5317}~{gal}\\)<br>',
      b: '\\({630}~{gal}\\)<br>',
      c: '\\({603}~{gal}\\)<br>',
      d: '\\({0.3571}~{gal}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "22. Convert \\({4.5}~{pt}\\) to \\({fl.oz}\\).",
    answers: {
      a: '\\({42}~{fl.oz}\\)<br>',
      b: '\\({52}~{fl.oz}\\)<br>',
      c: '\\({62}~{fl.oz}\\)<br>',
      d: '\\({72}~{fl.oz}\\)'
    },
    correctAnswer: 'd'
  },
  
  {
    question: "23. Convert \\({36}~{pt}\\) to \\({gal}\\).",
    answers: {
      a: '\\({4.5}~{gal}\\)<br>',
      b: '\\({5.5}~{gal}\\)<br>',
      c: '\\({6.5}~{gal}\\)<br>',
      d: '\\({3.0}~{gal}\\)'
    },
    correctAnswer: 'a'
  },
  
  {
    question: "24. Convert \\({3.00}~{gal}\\) to \\({fl.oz}\\).",
    answers: {
      a: '\\({483}~{fl.oz}\\)<br>',
      b: '\\({348}~{fl.oz}\\)<br>',
      c: '\\({384}~{fl.oz}\\)<br>',
      d: '\\({843}~{fl.oz}\\)'
    },
    correctAnswer: 'c'
  },
  
  {
    question: "25. Change \\({3.00}~{mi}\\) to \\({km}\\). Use \\({1}~{mi} = {1.61}~{km}\\).",
    answers: {
      a: '\\({3.84}~{km}\\)<br>',
      b: '\\({4.83}~{km}\\)<br>',
      c: '\\({4.38}~{km}\\)<br>',
      d: '\\({8.43}~{km}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "26. Change \\({2.50}~{in}\\) to \\({mm}\\). Use \\({1}~{in} = {2.54}~{cm}\\).",
    answers: {
      a: '\\({63.5}~{mm}\\)<br>',
      b: '\\({65.3}~{mm}\\)<br>',
      c: '\\({6.35}~{mm}\\)<br>',
      d: '\\({65.3}~{mm}\\)'
    },
    correctAnswer: 'a'
  },
  
  {
    question: "27. Convert \\({38.1}~{cm}\\) to \\({in}\\). Use \\({1}~{in} = {2.54}~{cm}\\).",
    answers: {
      a: '\\({16.0}~{in}\\)<br>',
      b: '\\({15.0}~{in}\\)<br>',
      c: '\\({14.0}~{in}\\)<br>',
      d: '\\({13.0}~{in}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "28. Convert \\({2.50}~{T}\\) to \\({kg}\\). Use \\({1}~{T} = {907.18}~{kg}\\).",
    answers: {
      a: '\\({2,762.95}~{kg}\\)<br>',
      b: '\\({2,627.95}~{kg}\\)<br>',
      c: '\\({2,276.95}~{kg}\\)<br>',
      d: '\\({2,267.95}~{kg}\\)'
    },
    correctAnswer: 'd'
  },

  {
    question: "29. Convert \\({15}~{kg}\\) to \\({lb}\\). Use \\({1}~{kg} = {2.2}~{lb}\\).",
    answers: {
      a: '\\({32}~{lb}\\)<br>',
      b: '\\({33}~{lb}\\)<br>',
      c: '\\({34}~{lb}\\)<br>',
      d: '\\({35}~{lb}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "30. Convert \\({35,000}~{mg}\\) to \\({lb}\\). Use \\({1}~{kg} = {2.2}~{lb}\\).",
    answers: {
      a: '\\({0.385}~{lb}\\)<br>',
      b: '\\({0.770}~{lb}\\)<br>',
      c: '\\({0.077}~{lb}\\)<br>',
      d: '\\({0.038}~{lb}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "31. Convert \\({12.7}~{cm}\\) to \\({in}\\). Use \\({1}~{in} = {2.54}~{cm}\\).",
    answers: {
      a: '\\({5}~{in}\\)<br>',
      b: '\\({0.4}~{in}\\)<br>',
      c: '\\({0.5}~{in}\\)<br>',
      d: '\\({4}~{in}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "32. Convert \\({-41}~{^oF}\\) to \\({^oC}\\). Use \\({^oC} = {5\\over9}{(^oF-32)}\\).",
    answers: {
      a: '\\({-41}~{^oC}\\)<br>',
      b: '\\({-38}~{^oC}\\)<br>',
      c: '\\({41}~{^oC}\\)<br>',
      d: '\\({38}~{^oC}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "33. Convert \\({50}~{^oC}\\) to \\({^oK}\\).",
    answers: {
      a: '\\({323}~{^oK}\\)<br>',
      b: '\\({333}~{^oK}\\)<br>',
      c: '\\({343}~{^oK}\\)<br>',
      d: '\\({353}~{^oK}\\)'
    },
    correctAnswer: 'a'
  },

  {
    question: "34. Convert \\({278}~{^oK}\\) to \\({^oF}\\). Use \\({^oF} = {9\\over5}{^oC}{+32}\\).",
    answers: {
      a: '\\({39}~{^oF}\\)<br>',
      b: '\\({40}~{^oF}\\)<br>',
      c: '\\({41}~{^oF}\\)<br>',
      d: '\\({42}~{^oF}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "35. How many \\({hours}\\) are there in \\({150}~{days}\\)?",
    answers: {
      a: '\\({3,500}~{hours}\\)<br>',
      b: '\\({3,600}~{hours}\\)<br>',
      c: '\\({3,700}~{hours}\\)<br>',
      d: '\\({3,800}~{hours}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "36. How many \\({minutes}\\) are there in \\({15}~{hours}\\)?",
    answers: {
      a: '\\({700}~{min}\\)<br>',
      b: '\\({800}~{min}\\)<br>',
      c: '\\({900}~{min}\\)<br>',
      d: '\\({1,000}~{min}\\)'
    },
    correctAnswer: 'c'
  },

  {
    question: "37. Convert \\({850}~{W}\\) to \\({kW}\\).",
    answers: {
      a: '\\({0.085}~{kW}\\)<br>',
      b: '\\({0.85}~{kW}\\)<br>',
      c: '\\({8.5}~{kW}\\)<br>',
      d: '\\({85}~{kW}\\)'
    },
    correctAnswer: 'b'
  },

  {
    question: "38. Convert \\({0.1}~{A}\\) to \\(\\mu\\)\\({A}\\).",
    answers: {
      a: '\\({100,000}~\\)\\(\\mu\\)\\({A}\\)<br>',
      b: '\\({10,000}~\\)\\(\\mu\\)\\({A}\\)<br>',
      c: '\\({1,000}~\\)\\(\\mu\\)\\({A}\\)<br>',
      d: '\\({1,000,000}~\\)\\(\\mu\\)\\({A}\\)<br>'
    },
    correctAnswer: 'a'
  },

];

var quizContainer = document.getElementById('quiz');
var resultsContainer = document.getElementById('results');
var submitButton = document.getElementById('submit');

generateQuiz(myQuestions, quizContainer, resultsContainer, submitButton);

function generateQuiz(questions, quizContainer, resultsContainer, submitButton){

  function showQuestions(questions, quizContainer){
    var output = [];
    var answers;
    for(var i=0; i<questions.length; i++){
      answers = [];
      for(choices in questions[i].answers){

        answers.push(
          '<label>'
            + '<input type="radio" name="question'+i+'" value="'+choices+'">'+ choices + '. '+ questions[i].answers[choices] + 
            '</label>'
            +'<br>'
        );

      }
      output.push(
        '<div class="question">'  + questions[i].question + '</div>' + '<div class="answers">'  + answers.join('') + '<br>' + '</div>'
      );
    }
    quizContainer.innerHTML = output.join('');

  }


  function showResults(questions, quizContainer, resultsContainer){
    var answerContainers = quizContainer.querySelectorAll('.answers');
    var userAnswer = '';
    var numCorrect = 0;
  
    for(var i=0; i<questions.length; i++){

      userAnswer = (answerContainers[i].querySelector('input[name=question'+i+']:checked')||{}).value;
      if(userAnswer===questions[i].correctAnswer){

        numCorrect++;
        answerContainers[i].style.color = 'green';
      }
      else{
        answerContainers[i].style.color = 'red';
      }
    }
    resultsContainer.innerHTML = numCorrect + ' out of ' + questions.length + " or " + (numCorrect/questions.length * 100).toFixed(2) + "%";
  }


  showQuestions(questions, quizContainer);
  
  submitButton.onclick = function(){
    showResults(questions, quizContainer, resultsContainer);
  }

}
